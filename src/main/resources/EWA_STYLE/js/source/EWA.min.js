var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,a){var c=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=c.length,g=b.length;a=Math.max(0,Math.min(a|0,c.length));for(var h=0;h<g&&a<e;)if(c[a++]!=b[h++])return!1;return h>=g}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(b,a){var c=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var e=b.length;0<e&&0<a;)if(c[--a]!=b[--e])return!1;return 0>=e}},"es6","es3");for(window.EWA={VERSION:2.6,LANG:"zhcn",SHOW_ERROR:!0,__p:window.location.pathname,__inc:0};0==EWA.__p.indexOf("//")&&!(EWA.__p=EWA.__p.replace("//","/"),EWA.__inc++,100<EWA.__inc););EWA.CP="/"+EWA.__p.split("/")[1]+"/";
var userAgent=window.navigator.userAgent.toLowerCase();EWA.B={VERSION:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],SAFAIR:/webkit/.test(userAgent),OPERA:/opera/.test(userAgent),IE:(/msie/.test(userAgent)||/traaaaaident/.test(userAgent))&&!/opera/.test(userAgent),MOZILLA:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent),GOOGLE:/chrome/.test(userAgent),PAD:/ipad|iphone|android|mobile/.test(userAgent),IS_ANDROID:/android/.test(userAgent)};var EWA_Utils={};
EWA.C={Utils:EWA_Utils,Ajax:EWA_AjaxClass,Xml:EWA_XmlClass,Url:EWA_UrlClass};EWA_Utils.ShowPic=function(a){a=a.src;if(!(0<a.indexOf("pic_no.jpg"))){if(0<a.indexOf("$resized/")){var b=a.indexOf("$resized/");a=a.substring(0,b)}else a=a.replace("_SMAILL.","."),a=a.replace("small","a");window.open(a)}};
EWA_Utils.ShowBgPic=function(a){if(a=$(a).css("background-image"))if(a=a.slice(4,a.length-1)){if(a.startsWith('"')||a.startsWith("'"))a=a.slice(1,a.length-1);0<a.indexOf("pic_no.jpg")||(a=a.replace("_SMAILL.",".").split("$resized")[0],a=a.replace("small","a"),window.open(a))}};EWA_Utils.RunCmd=function(a,b){"string"==typeof a?(b=a,EWA.LastMenuMsg=""):(b=a.getAttribute("EWA_CMD"),EWA.LastMenuMsg=GetInnerText(a).trimEx());null!=b&&0<b.trim().length&&eval(b)};
EWA_Utils.ReloadValidCodeImage=function(){for(var a=document.getElementsByTagName("IMG"),b=0;b<a.length;b+=1){var c=a[b];0<c.src.indexOf("/cgi-bin/_co_/")&&(c.src=c.src)}alert(_EWA_EVENT_MSG.ValidCodeError)};
EWA_Utils.JsRegisters=function(a){var b=/addEvent\([^\)]+\){1}/ig;a=a.match(/<[\s]*?script[^>]*?>[\s\S]*?<[\s]*?\/[\s]*?script[\s]*?>/ig);if(null!=a){for(var c=[],d=0;d<a.length;d++){var e=a[d];e=e.replace(/<[\s]*?script[^>]*?>/ig,"");e=e.replace(/<[\s]*?\/[\s]*?script[\s]*?>/ig,"");e=e.trim();if(0<e.length){try{EWA.C.Utils.JsRegister(e)}catch(m){alert(m)}try{var g=e.match(b);if(g)for(var h=0;h<g.length;h++){var k=g[h].split(",");if(3==k.length){var l=k[2].replace(")","");c.push(l)}}}catch(m){console.log(e)}}else e=
document.createElement("div"),e.innerHTML=a[d],e=e.getElementsByTagName("script")[0].src,EWA_Utils.JsRegisterSrc(e,!1)}for(d=0;d<c.length;d++)if(!(0<=c[d].indexOf("function")))try{eval(c[d]+"()")}catch(m){console.log(m)}}};EWA_Utils.JsRegisterSrc=function(a,b){var c="ewa_js_register_"+a.hashCode();if(!b||!$X(c)){b=document.getElementsByTagName("head")[0];var d=document.createElement("script");d.type="text/javascript";d.language="javascript";d.id=c;try{d.src=a,b.appendChild(d)}catch(e){alert(e)}}};
EWA_Utils.JsRegister=function(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.language="javascript";try{c.text=a,b.appendChild(c)}catch(d){alert(d)}};
EWA_Utils.LazyBackgroundLoad=function(a,b){var c=b||("CSS1Compat"==document.compatMode?document.documentElement.clientHeight+document.documentElement.scrollTop:document.body.clientHeight+document.body.scrollTop)+50;(a||$(".EWA_GRID_BG_IMG[is_lazy_load=true]")).each(function(){var b=$(this);if(b.offset().top<c){b.removeAttr("is_lazy_load");var a=b.attr("ori_src");b.css("background-image",'url("'+a+'")')}})};
EWA_Utils.ImageAdjust=function(a,b,c){if(null!=b&&null!=c&&(b=parseInt(b.replace("px","")),c=parseInt(c.replace("px","")),!(null==a||0>=b||0>=c||isNaN(b)&&isNaN(c))))if(isNaN(b))a.height=c;else if(isNaN(c))a.width=b;else{var d=a.width,e=a.height;0!=d&&0!=e&&(b/=d,c/=e,b>c?(d*=c,e*=c):(d*=b,e*=b),0<d&&0<e&&(a.width=d,a.height=e))}};
EWA_Utils.tempId=function(a){this.__TMPIDS||(this.__TMPIDS={});for(var b=a||"__ewatmpid__",c=0;1E3>c;c++)if(a=b+Math.random(),a=a.replace(".","GdX"),!this.__TMPIDS[a])return this.__TMPIDS[a]=1,a;a=b+"\u6267\u884c1000\u6b21\u91cd\u590d\u7684\u7f16\u53f7";console.log("\u6267\u884c1000\u6b21\u91cd\u590d\u7684\u7f16\u53f7");return a};
function $F(a,b,c,d){a=a.getElementsByTagName(b);b=[];d=d.toUpperCase().trim().split(",");for(var e=0;e<a.length;e++){var g=a[e],h=g.getAttribute(c);if(null!=h&&""!=h){h=h.toUpperCase();for(var k=0;k<d.length;k++)h==d[k]&&b.push(g)}}return b}function $J2MAP(a,b,c){b=b.split(",");var d={};c=null==c?",":c;for(var e=0;e<a.length;e++){var g=a[e];if(g){for(var h=[],k=0;k<b.length;k++)h.push(g[b[k]]);d[h.join(c)]=g}}return d}
function $J2MAP1(a,b,c){b=b.split(",");var d={};c=null==c?",":c;for(var e=0;e<a.length;e++){var g=a[e];if(g){for(var h=[],k=0;k<b.length;k++){var l=b[k];h.push(g[l])}l=h.join(c);d[l]||(d[l]=[]);d[l].push(g)}}return d}
function GetOuterHTML(a){if(a.outerHTML)return a.outerHTML;var b=a.attributes,c=[];c.push("<"+a.tagName.toLowerCase());for(var d=0;d<b.length;d++){var e=b[d];if(e.specified){var g=e.value.replace(/"/ig,"&quot;");c.push(" "+e.name+'="'+g+'"')}}e=a.innerHTML;null==e&&(e="");c.push(">"+e+"</"+a.tagName.toLowerCase()+">");return c.join("")}function GetInnerText(a){return a.innerText||a.textContent||""}function SetInnerText(a,b){EWA.B.IE?a.innerText=b:a.textContent=b}
"undefined"==typeof document.readyState&&(EWA.B._T=window.setInterval(function(){EWA.CP&&(window.clearInterval(EWA.B._T),document.readyState="complete")},10));function UrlParas(){var a=GetUrlParas(),b=[],c;for(c in a){var d=c.toUpperCase();"XMLNAME"==d||"ITEMNAME"==d||0<=d.indexOf("EWA")||b.push(c+"="+a[c])}return b.join("&")}var $U=UrlParas;
function $U2(a,b,c,d){if(!a||!b)return alert("xmlname and itemname not blank"),"xmlname and itemname not blank";a=EWA.CP+"/EWA_STYLE/cgi-bin/?xmlname="+a+"&itemname="+b;c&&(a=0==c.indexOf("&")?a+c:a+("&"+c));d&&(a+="&"+$U());return a}function GetUrlParas(a){var b={},c=window.location.href.split("?");if(1==c.length)return b;c=c[1].split("&");for(var d=0;d<c.length;d++){var e=c[d].split("=");if(1!=e.length){var g=e[0];a&&(g=g.toUpperCase());b[g]=e[1]}}return b}
function GetTopWin(){for(var a=window,b=0;a!=a.parent;){a=a.parent;if(20<b)return null;b++}return a}function addEvent(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function AddEvent(a,b,c){addEvent(a,b,c)}String.prototype.lTrim=function(){return this.replace(/(^\s*)/g,"")};String.prototype.rTrim=function(){return this.replace(/(\s*$)/g,"")};String.prototype.trimEx=function(){return this.trim().replace(/(^\u3000*)|(\u3000*$)/g,"")};
String.prototype.startsWith||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.startsWith=function(a){return null==a||this.length<a.length?!1:this==a||this.substring(0,a.length)==a?!0:!1},String.prototype.endsWith=function(a){return null==a||this.length<a.length?!1:this==a||this.substring(this.length-a.length)==a?!0:!1});String.prototype.toURL=function(){return encodeURIComponent(this)};
String.prototype.toInputValue=function(){return null==this||""==this?this:this.replace(/</ig,"&lt;").replace(/>/ig,"&gt;").replace(/"/ig,"&quot;")};String.prototype.unURL=function(){return decodeURIComponent(this)};
String.prototype.toMoney=function(){if(null==this||""==this)return this;var a=1*this;if(isNaN(a))return a;var b=(this+"").split(".");a=b[0];if(999>=1*a)return this;b=2==b.length?"."+b[1]:"";for(var c=a.length/3,d=0;d<c;d++){var e=a.substring(a.length-3);0<d&&(b=","+b);b=e+b;a=a.substring(0,a.length-3)}0<a.length&&(b=a+","+b);return b};String.prototype.hashCode=function(){for(var a=0,b=this.length,c=0;c<b;c++)a=31*a+this.charCodeAt(c),2147483647<a&&(a%=2147483648);return a};
Number.prototype.fm=function(a,b,c,d){a=isNaN(a=Math.abs(a))?2:a;b=void 0!==b?b:"";c=c||",";d=d||".";var e=this,g=0>e?"-":"",h=parseInt(e=Math.abs(+e||0).toFixed(a),10)+"",k=3<(k=h.length)?k%3:0;return b+g+(k?h.substr(0,k)+c:"")+h.substr(k).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?d+Math.abs(e-h).toFixed(a).slice(2):"")};function $X(a){return document.getElementById(a)}
function $XUC(a,b){if(b){c=$('input[ucid="'+a+'"][ucuid="'+b+'"]');if(0<c.length)return c[0];c=$('select[ucid="'+a+'"][ucuid="'+b+'"]')}else{var c=$('input[ucid="'+a+'"]');if(0<c.length)return c[0];c=$('select[ucid="'+a+'"]')}return 0<c.length?c[0]:document.getElementById(a)}function $N(a){return document.getElementsByName(a)}function $T(a,b){null==b&&(b=document);return b.getElementsByTagName(a)}function T$(a,b){return $T(a,b)}
function $GMap(a){null!=a&&a instanceof Function?window.google?a():(EWA._____set_google_map||(setTimeout(function(){var b=document.createElement("script");b.src=EWA.RV_STATIC_PATH?EWA.RV_STATIC_PATH+"/EWA_STYLE/js/js_jquery/EWA_GOOGLE_MAP.js":"/EmpScriptV2/EWA_STYLE/js/js_jquery/EWA_GOOGLE_MAP.js";document.body.appendChild(b)},123),EWA._____set_google_map=!0),setTimeout(function(){$GMap(a)},100)):alert("\u9700\u8981\u4f20\u7edf\u52a0\u8f7d\u5b8c\u6210\u8c03\u7528\u65b9\u6cd5")}
function $JS_RUN_CHANGE(a){if(a&&a.onchange){var b=a.onchange.toString(),c=b.indexOf("{"),d=b.lastIndexOf("}");b=b.substring(c+1,d);c="OBJ_"+Math.random();c=c.replace(".","GdX");window[c]=a;b=b.replace(/this/ig,c);try{eval(b)}catch(e){console.log(b),document.title=e}window[c]=null;delete window[c]}}
function EWA_AjaxClass(a){this.ResutValue=this._Http=null;this._WaittingId="EWA_AJAX_WAITING";this.LoadingType="text";this._Parameters={};this._ParentId=null;this.IsShowWaitting=!0;this._RunEndTime=null;this._IsAsync=(this._IsAsync=a)?!0:!1;this._ShowWaitting=function(){if(this.IsShowWaitting){var b=document.getElementById(this._WaittingId);null==b?("text"==this.LoadingType.trim().toLowerCase()&&this._CreateWaittingText(),"image"==this.LoadingType.trim().toLowerCase()&&this._CreateWaittingImg()):
b.style.display=""}};this._CreateWaittingText=function(){var b=document.createElement("DIV");b.id=this._WaittingId;b.innerHTML="Waiting...";document.body.appendChild(b);b.className="ewa-wait-txt"};this._CreateWaittingImg=function(){var b=document.createElement("TABLE");b.id=this._WaittingId;var a=b.insertRow(-1).insertCell(-1);a.align="center";a.innerHTML="<img src='"+this._getLoaddingImg()+"'>";document.body.appendChild(b);b.className="ewa-wait-img"};this.HiddenWaitting=function(){var b=document.getElementById(this._WaittingId);
null!=b&&(b.style.display="none")};this._InitHttp=function(){this._Http=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(null==window._EWA_AJAX_LIST||200<window._EWA_AJAX_LIST.length)window._EWA_AJAX_LIST=[];window._EWA_AJAX_LIST.push(this)};this.Get=function(b,a){null==b?console.log("ajax url not null"):(b.href&&(b=b.href),0<=b.indexOf("|")&&(b=b.replace(/\|/ig,"%7c")),this._Http.onreadystatechange=a,b.endsWith(".txt")||b.endsWith(".TXT")||(b=0<b.indexOf("?")?b+
"&___R="+Math.random():b+"?___R="+Math.random()),b=b.replace("&&","&"),b=b.replace("?&","?"),0==EWA.B.IE?(this._Http.open("GET",b,!this._IsAsync),this._Http.send(null)):(this._Http.open("GET",b,!this._IsAsync),this._Http.send()),this._IsAsync||this._ShowWaitting())};this.Post=function(b,a,d){null==b?console.log("ajax url not null"):(b.href&&(b=b.href),0<=b.indexOf("|")&&(b=b.replace(/\|/ig,"%7c")),this._ShowWaitting(),null!=d&&(this._Http.onreadystatechange=d),b=b.replace("&&","&"),b=b.replace("?&",
"?"),this._Http.open("POST",b,!this._IsAsync),this._Http.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._Http.send(a),this._IsAsync||this._ShowWaitting())};this.PostNew=function(b,a){var c=[],e;for(e in this._Parameters){var g=this._Parameters[e];null!=g&&c.push(e+"="+g)}this.Post(b,c.join("&"),a)};this.GetReturnValue=function(){return this._Http.responseText};this.AddParameter=function(b,a,d){this._Parameters[b]=d?a:encodeURIComponent(a)};this._InitHttp();this._getLoaddingImg=
function(){return(EWA.RV_STATIC_PATH||"/EmpScriptV2")+"/EWA_STYLE/images/loading4.gif"};this.Install=function(b,a,d,e,g){var c=this,k="string"==typeof d?$X(d):d;if(null==k)alert("Object ["+d+"] not found");else{var l=$(k),m=null;g||(m=l.css("position"),"static"==m&&l.css("position","relative"),l.append("<div class='ewa-ajax-install-waitting'></div>"));this.Post(b,a,function(){if(c.IsRunEnd()){"static"==m&&l.css("position",m);var g=c.GetRst();if(c.IsError())$(k)[0].innerHTML=g;else{$(k)[0].innerHTML=
g;try{EWA.C.Utils.JsRegisters(g)}catch(n){console.log(n)}}null!=e&&e(b,a,d,g)}});this.HiddenWaitting()}};this.IsRunEnd=function(){if(4!=this._Http.readyState)return!1;this.HiddenWaitting();this._RunEndTime||(this._RunEndTime=(new Date).getTime());window.setTimeout(function(){for(var b=window._EWA_AJAX_LIST.length-1;0<=b;b--){var a=window._EWA_AJAX_LIST[b];if(null!=a&&1231<a.GetEndPastTime()){try{a.Dispose()}catch(d){}window._EWA_AJAX_LIST[b]=null}}},1);return!0};this.Dispose=function(){this._Http=
null};this.GetEndPastTime=function(){return this._RunEndTime?(new Date).getTime()-this._RunEndTime:-1};this.IsError=function(){return 200==this._Http.status?!1:!0};this.GetRst=function(){return this.IsRunEnd()?this.IsError()?this._Http.statusText:this._Http.responseText:null}}function $JA(a,b){for(var c=new EWA_AjaxClass(!0),d=[],e=2;e<arguments.length;e++)d.push(arguments[e]);c.Get(a,function(){_$J_HandleRst(c,b,d,!0)});return c}
function $J2A(a,b){for(var c=new EWA_AjaxClass(!0),d=[],e=2;e<arguments.length;e++)d.push(arguments[e]);c.Get(a,function(){_$J_HandleRst(c,b,d,!1)});return c}function $JPA(a,b,c){for(var d=new EWA_AjaxClass(!0),e=[],g=3;g<arguments.length;g++)e.push(arguments[g]);if(b)for(var h in b)d.AddParameter(h,b[h]);d.PostNew(a,function(){_$J_HandleRst(d,c,e,!0)});return d}function $J(a,b){for(var c=[],d=2;d<arguments.length;d++)c.push(arguments[d]);return __$J(!1,a,b,c,!0)}
function $J1(a,b){for(var c=[],d=2;d<arguments.length;d++)c.push(arguments[d]);return __$J(!1,a,b,c,!0,!0)}function $J2(a,b){new EWA_AjaxClass;for(var c=[],d=2;d<arguments.length;d++)c.push(arguments[d]);return __$J(!1,a,b,c,!1,!1)}function $J3(a,b){new EWA_AjaxClass;for(var c=[],d=2;d<arguments.length;d++)c.push(arguments[d]);return __$J(!1,a,b,c,!1,!0)}function $JP1(a,b,c,d,e,g,h,k,l){$JP(a,b,c,d,e,g,h,k,l).HiddenWaitting()}
function $JP(a,b,c){for(var d=new EWA_AjaxClass,e=[],g=3;g<arguments.length;g++)e.push(arguments[g]);if(b)for(var h in b)d.AddParameter(h,b[h]);d.PostNew(a,function(){_$J_HandleRst(d,c,e,!0)});return d}function $JP2(a,b,c){for(var d=new EWA_AjaxClass,e=[],g=2;g<arguments.length;g++)e.push(arguments[g]);if(b)for(var h in b)d.AddParameter(h,b[h]);d.PostNew(a,function(){_$J_HandleRst(d,c,e,!1)});return d}
function __$J(a,b,c,d,e,g){var h=new EWA_AjaxClass(a);h.Get(b,function(){_$J_HandleRst(h,c,d,e)});g&&h.HiddenWaitting();return h}
function _$J_HandleRst(a,b,c,d){if(a.IsRunEnd())if(a.IsError())window.EWA_AjaxErr&&window.EWA_AjaxErr(a.GetRst());else{a=a.GetRst();if(d)try{a=eval("var _zz="+a+"; _zz")}catch(l){console.log("_$J_HandleRst-JSON"+l);return}if(null==b)alert("\u5bf9\u8c61\u6ca1\u6709\u53d1\u73b0");else if(b instanceof Function||"function"==typeof b)b(a,c);else if("string"==typeof b)$X(b);else if("SELECT"==b.tagName)if(d)if(2>c.length)alert("\u53c2\u6570\u4e0d\u8db3\uff0c\u9700\u8981textName,valueName\u7684\u5b9a\u4e49");
else{d=c[0];var e=c[1],g=!0;2<c.length&&(g=c[2]);var h="";3<c.length&&(h=c[3]);var k=null;4<c.length&&(k=c[4]);_$J_SELECT(a,b,d,e,g,h,k)}else alert("SELECT\u9700\u8981\u6620\u5c04\u4e3aJSON");else console.log("not define callback")}}
function _$J_SELECT(a,b,c,d,e,g,h,k){function l(a,e){var g=a[c],h=b.options[b.options.length]=new Option(g,a[d]);if(e){for(var k=[],l=0;l<e;l++)k.push("");k.push(g);k.join("\u3000")}for(var m in a)a[m]&&h.setAttribute("para_"+m.toLowerCase(),a[m]);h.setAttribute("json",JSON.stringify(a));return h}b.options.length=0;e&&(b.options[0]=new Option("",""),e instanceof Array&&(b.options[0].text=e[0],b.options[0].value=e[1]));if(k){var m=function(b,a){if((b=r[b])&&b._children&&0!=b._children.length)for(var c,
e=0;e<b._children.length;e++)c=b._children[e],l(c,a),m(c[d],a+1)},r={___ROOT___:[]};e={___ROOT___:{}};for(var n,t,q,p=0;p<a.length;p++){q=a[p];n=q[k];t=q[d];if(null===n||""===n||"0"===n)n="___ROOT___";r[n]||(r[n]=[]);r[n].push(q);e[t]=q;e[n]&&(e[n]._children||(e[n]._children=[]),e[n]._children.push(q))}m("___ROOT___",0)}else for(p=0;p<a.length;p++)q=a[p],l(q);g&&(b.value=g);$(b).trigger("change");h&&h(b)}
$Install=function(a,b,c,d){var e=new EWA_UrlClass;e.SetUrl(a);e.GetParameter("EWA_AJAX")||(a=e.AddParameter("EWA_AJAX","INSTALL"));(new EWA_AjaxClass).Install(a,"",b,c,d)};
function EWA_JSONXmlClass(){this._JSon=new EWA_JSONClass;this.toJSON=function(a){return this.createNode(a)};this.createNode=function(a){var b=[];b.push(this._JSon.ToJSONString(a.tagName));b.push(": {");for(var c=0;c<a.attributes.length;c++){var d=this.createAttribute(a.attributes[c]);0<c&&b.push(",");b.push(d)}for(c=0;c<a.childNodes.length;c++)(0<c||0<a.attributes.length)&&b.push(",\r\n"),b.push(this.createNode(a.childNodes[c]));b.push("}");return b.join(" ")};this.createAttribute=function(a){var b=
[];b.push(this._JSon.ToJSONString(a.name));b.push(":");b.push(this._JSon.ToJSONString(a.value));return b.join(" ")}}
function EWA_JSONClass(){this._Escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;this._Meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};this.ToJSONDate=function(a){return null==a?"null":a.getUTCFullYear()+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z"};this.ToJSONString=function(a){return'"'+(this._Escapeable.test(a)?a.replace(escapeable,function(b){var a=meta[b];if("string"===typeof a)return a;a=b.charCodeAt();
return"\\u00"+Math.floor(a/16).toString(16)+(a%16).toString(16)}):a)+'"'};this.ToJSONArray=function(a){for(var b=a.length,c=[],d=0;d<b;d+=1)c[d]=this.ToJSON(a[d]);return 0===c.length?"[]":"["+c.join(", ")+"]"};this.ToJSONObject=function(a){var b,c=[];for(b in a){var d=a[b];if(!("parent"==b||"_"==b.substring(0,1)||null==d||d instanceof Function)){var e=this.ToJSONString(b)+": ",g=typeof d;"string"===g||"number"===g||"boolean"===g||d instanceof Date?c.push(e+this.ToJSON(d)):"object"===g&&c.push(e+this.ToJSON(d))}}return 0===
c.length?"{}":"{"+c.join(", ")+"}"};this.ToJSON=function(a){var b=typeof a;if(a instanceof Date)return this.ToJSONDate(a);if("string"===b)return this.ToJSONString(a);if("number"===b)return isFinite(a)?String(a):"null";if("boolean"===b||"null"===b)return String(a);if("object"===b)return"number"!==typeof a.length||a.propertyIsEnumerable("length")?this.ToJSONObject(a):this.ToJSONArray(a)};this.Parse=function(a){return eval("("+a+")")}}
JSON=window.JSON||function(){function a(b){return 10>b?"0"+b:b}function b(b){return d.test(b)?'"'+b.replace(d,function(b){var a=h[b];if("string"===typeof a)return a;a=b.charCodeAt();return"\\u00"+Math.floor(a/16).toString(16)+(a%16).toString(16)})+'"':'"'+b+'"'}function c(a,d){var h=e;(d=d[a])&&"object"===typeof d&&"function"===typeof d.toJSON&&(d=d.toJSON(a));switch(typeof d){case "string":return b(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);case "object":if(!d)return"null";
e+=g;var n=[];if("number"===typeof d.length&&!d.propertyIsEnumerable("length")){var l=d.length;for(a=0;a<l;a+=1)n[a]=c(a,d)||"null";var m=0===n.length?"[]":e?"[\n"+e+n.join(",\n"+e)+"\n"+h+"]":"["+n.join(",")+"]";e=h;return m}if("object"===typeof k)for(l=k.length,a=0;a<l;a+=1){var p=k[a];"string"===typeof p&&(m=c(p,d,k))&&n.push(b(p)+(e?": ":":")+m)}else for(p in d)(m=c(p,d,k))&&n.push(b(p)+(e?": ":":")+m);m=0===n.length?"{}":e?"{\n"+e+n.join(",\n"+e)+"\n"+h+"}":"{"+n.join(",")+"}";e=h;return m}}
Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z"};var d=/["\\\x00-\x1f\x7f-\x9f]/g,e,g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;return{stringify:function(b,a,d){var h;g=e="";if(d)if("number"===typeof d)for(h=0;h<d;h+=1)g+=" ";else"string"===typeof d&&(g=d);if(a)if("function"===typeof a||"object"===typeof a&&
"number"===typeof a.length)k=a;else throw Error("JSON.stringify");else k=function(b,a){if(Object.hasOwnProperty.call(this,b))return a};return c("",{"":b})},parse:function(b,a){function c(b,d){var e,g=b[d];if(g&&"object"===typeof g)for(e in g)if(Object.hasOwnProperty.call(g,e)){var h=c(g,e);void 0!==h?g[e]=h:delete g[e]}return a.call(b,d,g)}if(/^[\],:{}\s]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return b=eval("("+b+")"),"function"===typeof a?c({"":b},""):b;throw new SyntaxError("JSON.parse");},quote:b}}();EWA.JSON=JSON;
function EWA_DateClass(a){this._Date=a?a instanceof Date?a:EWA_Utils.Date(a)._Date:new Date;this._Days=[31,28,31,30,31,30,31,31,30,31,30,31];this.PastMilliseconds=function(b){return b._Date-this._Date};this.PastSeconds=function(b){return this.PastMilliseconds(b)/1E3};this.GetYear=function(){return this._Date.getFullYear()};this.GetMonth=function(){return this._Date.getMonth()+1};this.GetDay=function(){return this._Date.getDate()};this.GetBenYear=function(){var b=this.GetYear();return[b+"-01-01",b+
"-12-31"]};this.GetBenMonth=function(){var b=this.GetYear(),a=this.GetMonth(),d=this._Days[a-1];2==a&&(0==(b-1992)%4&&0!=(b-1900)%100||0==(b-2E3)%400)&&(d=29);10>a&&(a="0"+a);10>d&&(d="0"+d);return[b+"-"+a+"-01",b+"-"+a+"-"+d]};this.GetBenWeek=function(b){var a=this._Date.getDay(),d=this.GetDay();b?(b=a,a=6-a):(b=a-1,a=7-a);var e=this.Clone();e.setDate(d-b);b=this.Clone();b.setDate(d+a);return[this.GetDateString(e),this.GetDateString(b)]};this.GetBenQ=function(){var b=this.GetMonth();if(3>=b){var a=
1;b=3}else 6>=b?(a=4,b=6):9>=b?(a=7,b=9):(a=10,b=12);var d=this.GetYear();a=this.CreateDate(d,a,1);b=this.CreateDate(d,b,this._Days[b-1]);return[this.GetDateString(a),this.GetDateString(b)]};this.GetDateString=function(b){return this.FormatDateTime(null,b)};this.GetDateTimeString=function(b){return this.FormatDate(null,b)};this.Clone=function(){return this.CreateDate(this.GetYear(),this.GetMonth(),this.GetDay())};this.AddDays=function(b){var a=this._Date.getDate();this._Date.setDate(a+1*b);return this.GetDateString()};
this.AddDaysFt=function(b,a){var c=this._Date.getDate();this._Date.setDate(c+1*b);return this.FormatDate(a)};this.CreateDate=function(b,a,d,e,g,h){var c=new Date;null==e&&(e=0);null==g&&(g=0);null==h&&(h=0);c.setDate(1);c.setFullYear(b);c.setMonth(a-1);c.setDate(d);c.setHours(e);c.setMinutes(g);c.setSeconds(h);c.setMilliseconds(0);return c};this.SetDate=function(b,a,d,e,g,h){this._Date=null==a?EWA_Utils.Date(b)._Date:this.CreateDate(b,a,d,e,g,h)};this.GetWeekName=function(){return _EWA_G_SETTINGS.WEEKS.split(",")[this._Date.getDay()]};
this.FormatDate=function(b,a){!b&&_EWA_G_SETTINGS&&_EWA_G_SETTINGS.DATE&&(b=_EWA_G_SETTINGS.DATE);b||(b="yyyy-MM-dd");var c=a||this._Date,e=a=c.getMonth()+1,g=c.getDate();10>e&&(e="0"+a);10>g&&(g="0"+g);c=c.getFullYear();var h,k="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");"MM/dd/yyyy"==b?h=e+"/"+g+"/"+c:"dd/MM/yyyy"==b?h=g+"/"+e+"/"+c:"yyyy-MM-dd"==b?h=c+"-"+e+"-"+g:"MM/dd"==b?h=e+"/"+g+"/"+c:"dd/MM"==b?h=g+"/"+e+"/"+c:"MM-dd"==b?h=e+"-"+g:"MMM dd"==b?h=k[a-1]+" "+g:"dd-MMM"==b?h=
g+"-"+k[a-1]:"ddMMM"==b?h=g+k[a-1]:"MMMdd"==b?h=k[a-1]+g:"MM\u6708dd\u65e5"==b?h=a+g+"\u65e5":"yyyyMMdd"==b&&(h=c+""+e+g);return h};this.FormatDateTime=function(b,a){return this.FormatDate(b,a)+" "+this.GetTimeStr(a)};this.GetTimeStr=function(b){var a=b||this._Date;b=a.getHours();var d=a.getMinutes();a=a.getSeconds();return(10>b?"0":"")+b+":"+(10>d?"0":"")+d+":"+(10>a?"0":"")+a};this.GetDateDiff=function(b){var a=this._Date;b=b?b instanceof Date?b:b instanceof EWA_DateClass?b._Date:EWA_Utils.Date(b)._Date:
new Date;a=a.getTime();b=b.getTime();return((a-b)/864E5).toFixed(0)}}
EWA_Utils.Date=function(a){if(!a)return new EWA_DateClass;var b=a,c="";if(0<a.indexOf(" ")){var d=a.split(" ");b=d[0];c=d[1]}if(8==a.length)b=a.substring(0,4),d=a.substring(4,6),a=a.substring(6,8);else{if(0<b.indexOf("/")){var e=b.split("/");b=e[2];_EWA_G_SETTINGS&&"MM/dd/yyyy"==_EWA_G_SETTINGS.DATE?(d=e[0],a=e[1]):(d=e[1],a=e[0])}else e=b.split("-"),b=e[0],d=e[1],a=e[2];var g=e=0,h=0;0<c.length&&(c=c.split(":"),g=c[0],e=c[1],2<c.length&&(h=c[2]))}c=new EWA_DateClass;c.SetDate(b,d,a,g,e,h);return c};
function EWA_XmlClass(){this.XmlDoc=null;this.LoadXmlFile=function(a){this._InitXmlDoc();this.XmlDoc.load(a)};this.LoadXml=function(a){EWA.B.IE&&!EWA.B.MOZILLA?(this._InitXmlDoc(),this.XmlDoc?this.XmlDoc.loadXML(a):alert("xml is null")):(this.XmlDoc=null,this.XmlDoc=(new DOMParser).parseFromString(a,"text/xml"))};this.GetXml=function(a){null==a&&(a=this.XmlDoc);return EWA.B.IE?a.xml:(new XMLSerializer).serializeToString(a)};this.GetAttributeValue=function(a,b,c){return this.GetElement(a,c).getAttribute(b)};
this.GetElementText=function(a){if(null!=a&&0<a.childNodes.length){for(var b="",c=0;c<a.childNodes.length;c++)b+=a.childNodes[c].nodeValue;return b}return null};this.GetElementAttribute=function(a,b){return a.getAttribute(b)};this.GetText=function(a,b){a=this.GetElement(a,b);return this.GetElementText(a)};this.GetElements=function(a,b){a=a.split("/");var c=null==b?this.XmlDoc:b;for(b=0;b<a.length-1;b+=1){c=c.getElementsByTagName(a[b]);if(null==c||0==c.length)return null;c=c[0]}return null==c||0==
c.length?null:c.getElementsByTagName(a[a.length-1])};this.GetElement=function(a,b){a=this.GetElements(a,b);return null==a?null:a[0]};this.SetAttribute=function(a,b,c){null==b?c.setAttribute(a,""):c.setAttribute(a,b)};this.GetOrCreateElement=function(a,b){a=a.split("/");b=null==b?this.XmlDoc:b;for(var c=0;c<a.length;c+=1){var d=b.getElementsByTagName(a[c]);b=null==d||0==d.length?this.NewChild(a[c],b):d[0]}return b};this.NewChild=function(a,b){a=this.XmlDoc.createElement(a);b.appendChild(a);return a};
this.NewChilds=function(a,b){a=a.split("/");for(var c=0;c<a.length;c++)b=this.NewChild(a[c].trim(),b);return b};this.SetText=function(a,b){b.text=a};this.AppendText=function(a,b){a=this.XmlDoc.createTextNode(a);b.appendChild(a)};this.SetCData=function(a,b){null!=a&&(a=this.XmlDoc.createCDATASection(a),b.appendChild(a))};this._InitXmlDoc=function(){if(!this.XmlDoc){if(EWA.B.IE)for(var a=["MSXML4.DOMDocument","MSXML3.DOMDocument","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XmlDom"],b=0;b<a.length;b++){try{this.XmlDoc=
new ActiveXObject(a[b])}catch(c){this.XmlDoc=null}if(null!=this.XmlDoc)break}if(!this.XmlDoc)try{this.XmlDoc=document.implementation.createDocument("","doc",null)}catch(c){}if(this.XmlDoc)try{this.XmlDoc.async=!1}catch(c){}else alert("XML init failed")}};this._InitXmlDoc()}
function EWA_UrlClass(a){this._URL="";this._Paras={};this._Root="";this.SetUrl=function(b){this._URL=b=null==b?window.location.href:b.href?b.href:b.toString();this._Paras={};this._Root=b.split("?")[0];if(!(0>b.indexOf("?"))){b=b.split("?")[1].split("&");for(var a=0;a<b.length;a++){var d=b[a].split("=");2==d.length?this._Paras[d[0].toUpperCase()]=d[1]:this._Paras[d[0].toUpperCase()]=""}}};this.RemoveEwa=function(){for(var a in this._Paras){var c=a.toLowerCase();if("xmlname"==c||"itemname"==c||0==c.indexOf("ewa_"))this._Paras[a]=
null}return this.GetUrl()};this.GetParameter=function(a){return this._Paras[a.toUpperCase().trim()]};this.GetParas=function(a){var b=[],d;for(d in this._Paras){var e=this._Paras[d];a&&(d=d.toLowerCase());d&&null!=e&&b.push(d+"="+e)}return b.join("&")};this.SetRoot=function(a){this._Root=a};this.GetUrl=function(a){a=this.GetParas(a);var b="";0<a.length&&(b=0<=this._Root.indexOf("?")?"&":"?");return this._Root+b+a};this.AddParameter=function(a,c,d){a=a.toUpperCase().trim();this._Paras[a]=d?c:encodeURIComponent(c);
return this.GetUrl()};this.RemoveParameter=function(a){a=a.toUpperCase().trim();this._Paras[a]=null;return this.GetUrl()};this.SetUrl(a||window.location.href)}
EWA_Tanslator_Providers={BAIDU:{http:"/cm/back_admin/common/trans_baidu.jsp",Trans:function(a,b,c,d,e){var g=c.get_text(a);$X("EWA_Tanslator_Providers_baidu")||$("body").append('<div id="EWA_Tanslator_Providers_baidu" style="display:none"></div>');$("#EWA_Tanslator_Providers_baidu").html(g);g=$("#EWA_Tanslator_Providers_baidu").text().trim();document.createElement("script");$JP(this.http+"?from="+d+"&to="+e,{q:g},EWA_Tanslator_Providers.BAIDU.__transCallBack,a,b,c)},__transCallBack:function(a,b){var c=
b[2];if(a.trans_result&&a.trans_result.data){b=b[1];for(var d=[],e=0;e<a.trans_result.data.length;e++)d.push(a.trans_result.data[e].dst);rst=d.join("\n");if(b&&("string"==typeof b&&(b=$X(b)),b))if(a=b.tagName,null==a&&(a=""),a=a.toUpperCase(),""==a)console.log("trans-error:"+b);else if("SELECT"==a||"INPUT"==a||"TEXTAREA"==a){if(b.value=rst,b.setAttribute("ewa_trans_end","ok"),null!=b.onblur)b.onblur()}else b.setAttribute("ewa_trans_end","ok"),b.innerHTML=rst}c.idx_ok++;c.check_complete()},TransToEn:function(a,
b,c){EWA_Tanslator_Providers.BAIDU.Trans(a,b,c,"zh","en")},TransToCn:function(a,b,c){EWA_Tanslator_Providers.BAIDU.Trans(a,b,c,"en","zh")}},BING:{key:"50F7C8D4BC00A6E047C046D012F334DEC61FA003",http:"//api.microsofttranslator.com/V2/Ajax.svc/Translate?appid=50F7C8D4BC00A6E047C046D012F334DEC61FA003",Trans:function(a,b,c,d,e){var g="___GDX_BING_"+c.idx;window[g]={id:g,is_run:!0,to_obj:b,from_call_class:c,from_obj:a,provider_call_back:function(a){EWA_Tanslator_Providers.BING.trans_call_back(a,this)}};
b=c.get_text(a);a=document.createElement("script");d=this.http+"&oncomplete=window."+g+".provider_call_back&from="+d+"&to="+e+"&text="+b.toURL();a.src=d;document.getElementsByTagName("head")[0].appendChild(a)},TransToEn:function(a,b,c){EWA_Tanslator_Providers.BING.Trans(a,b,c,"zh-CHS","en")},TransToCn:function(a,b,c){EWA_Tanslator_Providers.BING.Trans(a,b,c,"en","zh-CHS")},trans_call_back:function(a,b){var c=b.to_obj;window[b.id]=null;b.is_run=!1;b.from_call_class.idx_ok++;b.from_call_class.check_complete();
b.from_call_class.call_item_callback(b.from_obj,a);if(c&&("string"==typeof c&&(c=$X(c)),c)){var d=c.tagName;null==d&&(d="");d=d.toUpperCase();if(""==d)console.log("trans-error:"+c);else if("SELECT"==d||"INPUT"==d||"TEXTAREA"==d){if(c.value=a,c.setAttribute("ewa_trans_end","ok"),null!=c.onblur)c.onblur()}else c.setAttribute("ewa_trans_end","ok"),c.innerHTML=a}for(var e in b)b[e]=null}},YOUDAO:{key:"1597375709",http:"//fanyi.youdao.com/openapi.do?keyfrom=wwwoneworldcc&key=1597375709&type=data&doctype=<doctype>&version=1.1&q="}};
function EWA_TanslatorCalss(){this.PROVIDER="BAIDU";this.SKIP_EXISTS=!0;this.transAll=function(a,b,c,d){this.idx_ok=this.idx=0;null==a?alert("\u5bf9\u8c61objs_ch\u4e0d\u80fd\u4e3a\u7a7a"):(this._objs_ch=a,this._objs_en=b,this._transCompleteCallback=d,this._transCompleteItemCallBack=c,this.start_trans("en"))};this.transAllToCn=function(a,b,c,d){this.idx_ok=this.idx=0;null==a?alert("\u5bf9\u8c61objs_ch\u4e0d\u80fd\u4e3a\u7a7a"):(this._objs_ch=a,this._objs_en=b,this._transCompleteCallback=d,this._transCompleteItemCallBack=
c,this.start_trans("cn"))};this.start_trans=function(a){if(this.idx<=this._objs_ch.length-1){var b=this._objs_ch[this.idx],c=null;if(this._objs_en&&(c=this._objs_en[this.idx],this.SKIP_EXISTS&&this.get_text(c))){this.idx++;this.start_trans(a);return}this.idx++;this.trans_item(b,c,a);var d=this;setTimeout(function(){d.start_trans(a)},123)}};this.trans_item=function(a,b,c){null==this.trans&&(this.trans=EWA_Tanslator_Providers[this.PROVIDER]);"cn"==c?this.trans.TransToCn(a,b,this):this.trans.TransToEn(a,
b,this)};this.get_text=function(a){if("string"==typeof a)var b=a;else{var c=a.tagName;null==c&&(c="");c=c.toUpperCase();"SELECT"==c||"INPUT"==c||"TEXTAREA"==c?b=a.value:""!=c?b=a.innerHTML:(console.log("trans_err"),console.log(a))}return b||""};this.call_item_callback=function(a,b){this._transCompleteItemCallBack&&this._transCompleteItemCallBack(a,b)};this.check_complete=function(){return this._objs_ch.length==this.idx_ok?($Tip("\u7ffb\u8bd1\u5b8c\u6210"),this._transCompleteCallback&&this._transCompleteCallback(),
!0):!1}}
EWA_ImageCalss={defaultRatio:.7,resize:function(a,b,c,d,e){b=a.naturalWidth/b;c=a.naturalHeight/c;c=b>c?b:c;b=a.naturalWidth/c;c=a.naturalHeight/c;d=d?d:"image/jpeg";e=e||this.defaultRatio;if(isNaN(e)||1<e)e=this.defaultRatio;var g=document.createElement("canvas");g.width=b;g.height=c;ctx1=g.getContext("2d");ctx1.drawImage(a,0,0,a.naturalWidth,a.naturalHeight,0,0,g.width,g.height);return g.toDataURL(d,e)},dataURItoBlob:function(a){var b=a.split(",");a=b[0].match(/:(.*?);/)[1];b=window.atob(b[1]);for(var c=
new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return new Blob([c],{type:a})},resizeAsBlob:function(a,b,c,d,e){a=this.resize(a,b,c,d,e);return this.dataURItoBlob(a)}};
function EWA_WebSocketClass(a){this.connected=this.inited=!1;this.socket=null;this.cbs={};this.cbs_length=0;this.handleBroadMsgs={};this.handleOnReconnected={};this.handleOnOffline={};this.url=a;this.init=function(a,c){this.inited=!0;this.open(a);this.debug=c};this.registerHandleBroadMsg=function(a,c){this.handleBroadMsgs[a]=c};this.unRegisterHandleBroadMsg=function(a){this.handleBroadMsgs[a]=null};this.registerOnReconnected=function(a,c){this.handleOnReconnected[a]=c};this.unRegisterOnReconnected=
function(a){this.handleOnReconnected[a]=null};this.registerOnOffline=function(a,c){this.handleOnOffline[a]=c};this.unRegisterOnOffline=function(a){this.handleOnOffline[a]=null};this.send=function(a,c){if(!this.connected)return console.log("\u672a\u8fde\u63a5"),!1;this.debug&&console.debug(a,c);this.socket.send(JSON.stringify(a));c&&(this.cbs[a.ID]=c,this.cbs_length++);return!0};this.closeWebSocket=function(){this.socket.close()};this.tryClearCbs=function(){if(200<this.cbs_length)this.cbs={},this.cbs_length=
0,this.debug&&console.debug("tryClearCbs\uff1a\u8d85\u8fc7200\uff0c\u5f3a\u5236\u6e05\u7a7a");else{for(var a in this.cbs)if(null!=this.cbs[a])return;this.debug&&console.debug("tryClearCbs\uff1a\u6e05\u7a7a"+this.cbs_length);this.cbs={};this.cbs_length=0}};this.onMessage=function(a){try{var b=JSON.parse(a.data);if(b.ID&&this.cbs[b.ID]){var d=this.cbs[b.ID];if(d){this.debug&&(console.debug("\u6267\u884c\u56de\u8c03\u65b9\u6cd5"),console.debug(b.ID,d));try{d(b,a)}catch(e){console.log(a),console.log(d),
console.log(e)}this.cbs[b.ID]=null;10<this.cbs_length&&this.tryClearCbs()}}else if(b.BROADCAST_ID&&this.handleBroadMsgs[b.BROADCAST_ID]&&(d=this.handleBroadMsgs[b.BROADCAST_ID])){this.debug&&(console.debug("\u6267\u884c\u5e7f\u64ad\u6d88\u606f\u56de\u8c03\u7684\u65b9\u6cd5"),console.debug(d));try{d(b,a)}catch(e){console.log(a),console.log(d),console.log(e)}}}catch(e){console.log(a),console.log(e)}};this.onOpen=function(a,c){var b=this;b.connected=!0;if(c)c();else for(var e in b.handleOnReconnected){a=
b.handleOnReconnected[e];b.debug&&console.debug(e,a);try{a&&a(this,event)}catch(g){console.error(e),console.error(a),console.error(g)}}window.onbeforeunload=function(){b.CLOSED_ON_QUIT=!0;b.socket.close()};b._Attempts=0;b._maxTimeout=0};this.onError=function(a){};this.onClose=function(a){var b=this;if(b.connected)for(var d in b.handleOnOffline){var e=b.handleOnOffline[d];try{e&&e(this,a)}catch(g){console.error(d),console.error(e),console.error(g)}}b.connected=!1;b.CLOSED_ON_QUIT?console.log("closed"):
(b._Attempts?b._Attempts++:b._Attempts=0,0==b._maxTimeout?(a=555*Math.pow(1.1,b._Attempts),3E3<a&&(a=3210,b._maxTimeout=a)):a=b._maxTimeout,setTimeout(function(){b.open()},a))};this.open=function(a){var b=new WebSocket(this.url),d=this;b.onerror=function(a){d.debug&&console.debug(a);d.onError(a)};b.onopen=function(b){d.debug&&console.debug(b);d.onOpen(b,a)};b.onmessage=function(a){d.debug&&console.debug(a);d.onMessage(a)};b.onclose=function(a){d.debug&&console.debug(a);d.onClose(a)};this.socket=b}}
function EWA_AddEvent(a,b){if(!top.EWA||!top.EWA.MQE){var c=new EWA_MqeListenerClass;c.CheckId=a;c.FuncName=b;top.EWA.MQE.AddListener(c)}}function EWA_MqeClass(){this.Data=this.Type=this.FromId=null;this.Paras=GetUrlParas(!0);this.IsServer=!1}function EWA_MqeListenerClass(){this.Win=window;this.FuncName=this.CheckId=null;this.Paras=GetUrlParas(!0);this.LastMsg=null;this.LastResult=!1}
function EWA_MqeManagerClass(){this._Listeners=[];this.UrlServer=null;this.LastTimer=-1;this.Stop=!1;this.AddListener=function(a){this._Listeners.push(a)};this.AddMqe=function(a){window.status=a.FromId+","+a.Type;for(var b=0;b<this._Listeners.length;b++){var c=this._Listeners[b];if(null!=c)for(var d=c.CheckId.split(","),e=0;e<d.length;e++)if(a.FromId==d[e]){var g=this._DoEvent(c,a);!0===g?this._Listeners[b].LastResult=!0:null===g?this._Listeners[b]=null:(this._Listeners[b].LastMsg=g,this._Listeners[b].LastResult=
!1)}}};this._DoEvent=function(a,b){try{var c=eval("w."+a.FuncName);c(b.Type,b.Paras,b.IsServer);return!0}catch(d){return d}};this.CreateServer=function(a,b){var c=new EWA_UrlClass;c.SetUrl(a);c.AddParameter("UNID",b);this.UrlServer=c.GetUrl()};this._GetEvents=function(){var a=new EWA_AjaxClass,b=EWA.MQE,c=b.UrlServer+"&T="+b.LastTimer;a.IsShowWaitting=!1;a.Get(c,function(){if(a.IsRunEnd()){var c=a.GetRst();a.IsError()?window.EWA_AjaxErr&&window.EWA_AjaxErr(c):(c=c.trim(),b.ParseMsg(c),b.Mon())}})};
this.Mon=function(){if(!(0<userAgent.indexOf("ipad")||0<userAgent.indexOf("iphone"))){var a=EWA.MQE;void 0!=a.RunStopParaName&&(a.Stop=!eval("window."+a.RunStopParaName));a.Stop?window.setTimeout(a.Mon,1250):window.setTimeout(a._GetEvents,1250)}};this.ParseMsg=function(a){try{eval("evts="+a)}catch(d){this.Stop=!0;return}if(!(void 0).E)this.Stop=!0;else if(!((void 0).T<this.LastTimer)&&(this.LastTimer=(void 0).T,0!=(void 0).V.length)){var b={};for(a=(void 0).V.length-1;0<=a;a--){var c=(void 0).V[a];
c=c.ID+"--GDX--"+c.TP+"---GDX---"+c.V;b[c]||(b[c]=!0)}for(a=0;a<(void 0).V.length;a++)c=(void 0).V[a],null!=c&&(eval("m1="+c.V),b=new EWA_MqeClass,b.FromId=c.ID,b.Type=c.TP,b.Paras=void 0,b.IsServer=!0,this.AddMqe(b))}}}function EWA_MqeCreate(a,b,c){null==b||0==b.trim().length?alert("unid is blank"):(EWA.MQE=new EWA_MqeManagerClass,EWA.MQE.CreateServer(a,b),void 0!=c&&(EWA.MQE.RunStopParaName=c),EWA.MQE.Mon())};
